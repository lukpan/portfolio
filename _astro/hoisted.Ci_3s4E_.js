import"./hoisted.7QtzwRaL.js";function u(){document.querySelector(".toc-nav");const n=document.querySelector(".toc-content");if(!n)return;const o=document.querySelector(".project-content");if(!o)return;const c=o.querySelectorAll("h2");if(c.length===0)return;n.innerHTML="";const i=document.createElement("ul");i.className="toc-list",c.forEach((e,a)=>{e.id||(e.id=e.textContent.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""));const r=document.createElement("li");r.className=`toc-item toc-${e.tagName.toLowerCase()}`;const t=document.createElement("a");t.href=`#${e.id}`,t.textContent=e.textContent,t.className="toc-link",r.appendChild(t),i.appendChild(r)}),n.appendChild(i),m(c)}function m(n){const o=document.querySelectorAll(".toc-link");if(o.length===0)return;o[0]&&o[0].classList.add("active");let c=null;const i=new IntersectionObserver(r=>{r.forEach(t=>{const s=t.target.getAttribute("id"),l=document.querySelector(`.toc-link[href="#${s}"]`);t.isIntersecting&&(c=t.target,o.forEach(d=>d.classList.remove("active")),l&&l.classList.add("active"))})},{rootMargin:"-20% 0px -70% 0px",threshold:[0,.25,.5,.75,1]});n.forEach(r=>{i.observe(r)});let e=!1;window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{a(),e=!1}),e=!0)});function a(){const r=window.scrollY+150;let t=null;if(n.forEach(s=>{const l=s.offsetTop;r>=l&&(t=s)}),t&&t!==c){const s=t.getAttribute("id"),l=document.querySelector(`.toc-link[href="#${s}"]`);l&&(o.forEach(d=>d.classList.remove("active")),l.classList.add("active"),c=t)}}}function f(){document.querySelectorAll(".toc-link").forEach(n=>{n.addEventListener("click",o=>{o.preventDefault();const c=n.getAttribute("href").substring(1),i=document.getElementById(c);if(i){const a=i.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:a,behavior:"smooth"})}})})}document.addEventListener("DOMContentLoaded",()=>{u(),f()});document.addEventListener("astro:page-load",()=>{u(),f()});
